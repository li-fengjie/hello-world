/*
An organic compound is any member of a large class of chemical compounds whose molecules contain carbon. The molar mass of an organic
compound is the mass of one mole of the organic compound. The molar mass of an organic compound can be computed from the standard atomic
weights of the elements. When an organic compound is given as a molecular formula, Dr. CHON wants to ﬁnd its molar mass. A molecular 
formula, such as C3H4O3, identiﬁes each constituent element by its chemical symbol and indicates the number of atoms of each element found 
in each discrete molecule of that compound. If a molecule contains more than one atom of a particular element, this quantity is indicated 
using a subscript after the chemical symbol. In this problem, we assume that the molecular formula is represented by only four elements,
‘C’ (Carbon), ‘H’ (Hydrogen), ‘O’ (Oxygen), and ‘N’ (Nitrogen) without parentheses. The following table shows that the standard atomic 
weights for ‘C’, ‘H’, ‘O’, and ‘N’.
  Atomic Name             Carbon           Hydrogen     Oxygen       Nitrogen   Standard Atomic 
  Standard Atomic Weight  12.01 g/mol      1.008 g/mol  16.00 g/mol  14.01 g/mol
For example, the molar mass of a molecular formula C6H5OH is 94.108 g/mol which is computed by 6 × (12.01 g/mol) + 6 × (1.008 g/mol)
+ 1 × (16.00 g/mol).
Given a molecular formula, write a program to compute the molar mass of the formula.
Input
Your program is to read from standard input. The input consists of T test cases.
The number of test cases T is given in the ﬁrst line of the input. Each test case is given in a single line, 
which contains a molecular formula as a string. The chemical symbol is given by a capital letter and the length of the string 
is greater than 0 and less than 80. The quantity number n which is represented after the chemical symbol would be omitted 
when the number is 1 (2 ≤ n ≤ 99).
Output
Your program is to write to standard output. Print exactly one line for each test case.
The line should contain the molar mass of the given molecular formula.
Sample Input
4 
C
C6H5OH
NH2CH2COOH
C12H22O11

Sample Output
12.010
94.108
75.070
342.296

*/

#include <iostream>
#include <stdio.h>

using namespace std;

int main()
{
    int n;
    cin>>n;
    getchar();
    while(n--)
    {
        char a[100010];
        cin>>a;
        double M=0;
        for(int i=0;a[i]!='\0';i++)
        {
            int num=0;
            int j=i;

            if((a[i+1] >= 65 && a[i+1] <= 90) || a[i+1] == '\0')
            {
                num = 1;
            }

            while(a[j+1]-'0'>=1 && a[j+1]-'0'<=9)
            {
                num = num *10 + a[j+1] - '0';
                //cout<<"num:"<<num<<endl;
                j++;
            }

            if(a[i]=='C')
            {
                M += num * 12.01;
            }
            else if(a[i]=='H')
            {
                M += num * 1.008;
            }
            else if(a[i]=='O')
            {
                M += num * 16.0;
            }
            else if(a[i]=='N')
            {
                M += num * 14.01;
            }
            //cout<<'M'<<M<<endl;
        }
        printf("%.3lf\n",M);
    }
    return 0;
}

